<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alternating Currents Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            user-select: none; /* Disable text selection */
        }
        .quiz-container {
            max-width: 600px;
            margin: 0 auto;
        }
        .question {
            margin-bottom: 20px;
        }
        .question h3 {
            margin-bottom: 10px;
        }
        .timer {
            color: red;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        .result {
            display: none;
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
        }
        .hidden {
            display: none;
        }
        button {
            margin-top: 15px;
        }
    </style>
</head>
<body oncontextmenu="return false"> <!-- Disable right-click -->

<div class="quiz-container">
    <h1>Alternating Currents Quiz</h1>

    <div id="nameInput">
        <label for="studentName">Enter your name:</label>
        <input type="text" id="studentName" required>
        <button onclick="startQuiz()">Start Quiz</button>
    </div>

    <div class="timer hidden" id="timer">Time Left: 1:30</div>

    <form id="quizForm" class="hidden">
        <!-- Question 1 -->
        <div class="question hidden" id="q1">
            <h3>1. What is the main difference between alternating current (AC) and direct current (DC)?</h3>
            <label><input type="radio" name="q1" value="A"> A) AC flows in one direction, while DC reverses direction.</label><br>
            <label><input type="radio" name="q1" value="B"> B) AC reverses direction periodically, while DC flows in one direction.</label><br>
            <label><input type="radio" name="q1" value="C"> C) Both AC and DC reverse directions periodically.</label><br>
            <label><input type="radio" name="q1" value="D"> D) AC is used in batteries, while DC is used in power grids.</label><br>
            <button type="button" onclick="nextQuestion('q1', 'q2')">Next</button>
        </div>

        <!-- Question 2 -->
        <div class="question hidden" id="q2">
            <h3>2. Which of the following devices uses alternating current (AC)?</h3>
            <label><input type="radio" name="q2" value="A"> A) Battery-powered torch</label><br>
            <label><input type="radio" name="q2" value="B"> B) Household fan</label><br>
            <label><input type="radio" name="q2" value="C"> C) Flashlight</label><br>
            <label><input type="radio" name="q2" value="D"> D) Car battery</label><br>
            <button type="button" onclick="nextQuestion('q2', 'q3')">Next</button>
        </div>

        <!-- Question 3 -->
        <div class="question hidden" id="q3">
            <h3>3. The frequency of AC power supply used in most homes is:</h3>
            <label><input type="radio" name="q3" value="A"> A) 25 Hz</label><br>
            <label><input type="radio" name="q3" value="B"> B) 50 Hz</label><br>
            <label><input type="radio" name="q3" value="C"> C) 75 Hz</label><br>
            <label><input type="radio" name="q3" value="D"> D) 100 Hz</label><br>
            <button type="button" onclick="nextQuestion('q3', 'q4')">Next</button>
        </div>

        <!-- Question 4 -->
        <div class="question hidden" id="q4">
            <h3>4. Alternating current is typically generated by:</h3>
            <label><input type="radio" name="q4" value="A"> A) Batteries</label><br>
            <label><input type="radio" name="q4" value="B"> B) Generators</label><br>
            <label><input type="radio" name="q4" value="C"> C) Solar panels</label><br>
            <label><input type="radio" name="q4" value="D"> D) Thermoelectric devices</label><br>
            <button type="button" onclick="nextQuestion('q4', 'q5')">Next</button>
        </div>

        <!-- Question 5 -->
        <div class="question hidden" id="q5">
            <h3>5. The advantage of using AC for power transmission over long distances is:</h3>
            <label><input type="radio" name="q5" value="A"> A) Lower energy losses</label><br>
            <label><input type="radio" name="q5" value="B"> B) Easier voltage transformation</label><br>
            <label><input type="radio" name="q5" value="C"> C) Greater stability</label><br>
            <label><input type="radio" name="q5" value="D"> D) Greater power generation</label><br>
            <button type="submit">Submit Quiz</button>
        </div>
    </form>

    <div class="result" id="result"></div>
</div>

<script>
    const correctAnswers = {
        q1: 'B',
        q2: 'B',
        q3: 'B',
        q4: 'B',
        q5: 'B'
    };
    let timer = 90;
    let warnings = 0;
    const timerElement = document.getElementById('timer');
    const quizForm = document.getElementById('quizForm');
    const resultElement = document.getElementById('result');
    let interval;

    function startQuiz() {
        const nameInput = document.getElementById('studentName').value;
        if (!nameInput) {
            alert('Please enter your name');
            return;
        }

        // Hide the name input after starting the quiz
        document.getElementById('nameInput').classList.add('hidden');

        // Start the quiz and timer
        startTimer();
        monitorFocus();
        
        // Show quiz and timer
        document.getElementById('timer').classList.remove('hidden');
        document.getElementById('quizForm').classList.remove('hidden');
        document.getElementById('q1').classList.remove('hidden'); // Show the first question
    }

    function startTimer() {
        interval = setInterval(() => {
            if (timer > 0) {
                timer--;
                const minutes = Math.floor(timer / 60);
                const seconds = timer % 60;
                timerElement.innerText = `Time Left: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            } else {
                clearInterval(interval);
                handleSubmit();
            }
        }, 1000);
        
        quizForm.addEventListener('submit', function (event) {
            event.preventDefault();
            handleSubmit();
        });
    }

    function handleSubmit() {
        clearInterval(interval); // Stop the timer
        let score = 0;
        let totalMarks = 20; // 5 questions, 4 marks each
        let feedback = `<h2>Results</h2><ul>`;
        
        const formData = new FormData(quizForm);
        for (let [question, answer] of formData.entries()) {
            if (answer === correctAnswers[question]) {
                score += 4;
                feedback += `<li>Question ${question[1]}: Correct</li>`;
            } else {
                score -= 1;
                feedback += `<li>Question ${question[1]}: Incorrect, correct answer is ${correctAnswers[question]}</li>`;
            }
        }
        
        feedback += `</ul><h3>Your Score: ${score} / ${totalMarks}</h3>`;
        resultElement.innerHTML = feedback;
        resultElement.style.display = 'block';

        // Disable all radio buttons after submission
        document.querySelectorAll('input[type="radio"]').forEach(input => {
            input.disabled = true;
        });

        // Hide the quiz form
        quizForm.classList.add('hidden');

        // Stop monitoring focus after submission
        stopMonitoringFocus();
    }

    // Function to show the next question and hide the current one
    function nextQuestion(currentQuestion, nextQuestion) {
        document.getElementById(currentQuestion).classList.add('hidden');
        document.getElementById(nextQuestion).classList.remove('hidden');
    }

    // Prevent switching tabs/browsers and give warnings
    function monitorFocus() {
        window.addEventListener('blur', focusWarning);
    }

    function stopMonitoringFocus() {
        window.removeEventListener('blur', focusWarning);
    }

    function focusWarning() {
        warnings++;
        if (warnings === 1) {
            alert("Warning 1: You cannot switch tabs or browsers during the quiz!");
        } else if (warnings === 2) {
            alert("Warning 2: This is your last warning!");
        } else {
            alert("You have switched tabs twice. The quiz will now be submitted.");
            handleSubmit();
        }
    }
</script>

</body>
</html>
